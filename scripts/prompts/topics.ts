// Topic extraction and article writing prompts

export const EXTRACT_TOPIC_PROMPT = `당신은 AI 기술 큐레이터입니다.
다음 커뮤니티 글을 읽고, 전문적인 블로그 아티클로 다룰 만한 토픽을 추출하세요.

## 글 내용:
{content}

## 추출 기준:
1. 기술적 인사이트가 있는가? (새로운 정보, 비교, 분석)
2. 독자에게 실용적 가치가 있는가? (활용 방법, 팁, 전략)
3. 검증 가능한 주장이 있는가? (수치, 사실, 비교)

## 응답 규칙:
- 논의 가치가 없으면 worthDiscussing: false
- 갤러리 말투/비속어는 무시하고 핵심 인사이트만 추출
- 조사 질문은 공식 문서/논문에서 답을 찾을 수 있는 것으로
- 글에 없는 모델/버전/회사명은 억지로 넣지 마라. (없으면 일반적으로 서술)
- **구형(이전 세대) 모델/버전**만을 중심으로 한 회고/재소개라면, 최근 업데이트·정책 변화·운영 이슈 같은 “지금의 트리거”가 없는 한 worthDiscussing: false

## 응답 (JSON):
{
  "worthDiscussing": true/false,
  "reason": "판단 이유 (1문장)",
  "topic": {
    "title": "토픽 제목 (전문적, 20자 이내)",
    "description": "토픽 설명 (1-2문장)",
    "keyInsights": ["핵심 인사이트 1", "핵심 인사이트 2"],
    "researchQuestions": [
      "조사할 질문 1 (공식 문서에서 답 찾을 수 있는 것)",
      "조사할 질문 2",
      "조사할 질문 3"
    ]
  }
}

JSON만 응답하세요.`;

export const EXTRACT_TOPIC_FROM_NEWS_PROMPT = `당신은 AI 기술 에디터입니다.
다음 뉴스/블로그 기사를 읽고, **우리 블로그(LLM/AGI/로보틱스/AI 하드웨어/AI 안전·정책)**에서 다룰 만한 토픽인지 판단하세요.

## 기사:
{content}

## 추출 기준:
1. **AI/ML과 직접적으로 관련 있는가?**
   - 예: LLM/에이전트/멀티모달/학습·추론/툴체인/벤치마크/로보틱스/AI 하드웨어(GPU/NPU/TPU)/AI 안전·정책/기업의 AI 제품·모델 업데이트
   - 예외(무조건 제외): **생활팁/소비자 리뷰/구매가이드/설정 튜닝/캐시 삭제/단축키/가격 할인** 류 (AI 단어가 포함되어도 false)
     - 예: "How to …", "Best …", "I tested …", "… shortcuts", "… settings", "… cache", "… worth it"
     - 예: "아이폰/안드로이드 느려짐 해결", "노트북/TV/이어폰 추천", "브라우저에서 AI 기능 지우는 방법"
2. 최신 정보인가? (기본: 1주일 이내 발표)
   - 단, 표준/규제/보안 사고/대형 모델·칩 릴리즈처럼 “업계 레벨” 변화는 2-4주도 허용.
3. 독자에게 가치가 있는가?
4. 이미 널리 알려진 “재탕” 뉴스가 아닌가?
   - 특히 **이전 세대/구형** 모델·제품을 단순 재소개하는 글이면 false.
   - 예외: 지금 시점의 “변화(업데이트/정책/가격/API/중단/오픈소스/보안)”가 새로 생겼다면 true 가능.
5. **실질적인 변화/논점이 있는가?** (없으면 false)
   - 새 모델/성능/벤치마크, 아키텍처/스펙, API/SDK, 칩/가속기, 규제/정책, 표준(W3C 등) 같은 “업계 레벨” 변화가 드러나야 한다.

## 응답 규칙:
- AI와 직접 관련이 없으면 worthDiscussing: false
- 단순 제품 광고/홍보, 소비자 전자제품 루머·리뷰·비교, 생활팁/사용법/설정/가격·할인 기사 는 제외
- 실질적 기술 변화가 있는 것만 선택
- “AI를 끄는 법/삭제하는 법/정리하는 법”이 기사 핵심이면 false (규제·표준 변화가 핵심인 경우만 예외)
- **모델/버전 표기 규칙**: 기사에 명시된 경우에만 모델명·버전을 언급한다. 기사에 없으면 “최신 GPT 계열”, “최신 Gemini 계열”처럼 일반적으로 표현한다.

## 응답 (JSON):
{
  "worthDiscussing": true/false,
  "reason": "판단 이유 (1문장)",
  "topic": {
    "title": "토픽 제목 (전문적, 20자 이내)",
    "description": "토픽 설명 (1-2문장)",
    "keyInsights": ["핵심 인사이트 1", "핵심 인사이트 2"],
    "researchQuestions": [
      "추가 조사할 질문 1",
      "추가 조사할 질문 2",
      "추가 조사할 질문 3"
    ]
  }
}

JSON만 응답하세요.`;

export const RESEARCH_QUESTION_PROMPT = `당신은 AI 기술 리서처입니다.
다음 질문에 대해 검색 결과를 바탕으로 정확한 답변을 작성하세요.

## 질문:
{question}

## 검색 결과:
{searchResults}

## 응답 규칙:
1. 검색 결과에 있는 정보만 사용
2. 확인되지 않은 정보는 "확인되지 않음"으로 표시
3. 출처 URL 필수 포함
4. 추측/가정 금지

## 응답 (JSON):
{
  "answer": "질문에 대한 답변 (검색 결과 기반)",
  "confidence": 0.0-1.0,
  "sources": [
    {
      "url": "출처 URL",
      "title": "출처 제목",
      "snippet": "관련 인용문"
    }
  ],
  "unverified": ["확인되지 않은 부분 (있다면)"]
}

JSON만 응답하세요.`;

export const WRITE_ARTICLE_PROMPT = `당신은 최고의 AI 기술 기자입니다. The Verge, TechCrunch 수준의 글을 씁니다.

## 에디토리얼 시리즈:
{series}

## 시리즈 가이드 (출력에는 라벨을 쓰지 마라):
- K‑AI Pulse (Signal Brief): 빠르게 읽히는 “신호” 전달. 문단을 짧게, 변화/의미/행동을 선명하게.
- Explainer (Pillar/Evergreen): 처음 읽는 사람 기준으로 정의→맥락→오해→실전. 검색 유입을 염두에 둔다.
- Deep Dive (Decision Memo): 조건(If/Then)과 트레이드오프를 명확히. 찬반/한계를 균형 있게.

## TL;DR(세 줄 요약) 규칙:
- 반드시 3개 불릿.
- 3개 불릿은 각각 다음 질문에 답해야 한다:
  1) **무슨 변화/핵심이슈인가?** (또는 “이 글이 다루는 핵심 개념/쟁점”)
  2) **왜 중요한가?** (영향/리스크/기회 중 하나라도 명확히)
  3) **독자는 뭘 하면 되나?** (검증/실험/의사결정 규칙처럼 행동으로 끝내라)
- 3번째 불릿을 “AI는 앞으로…” 같은 **일반론/미래담**으로 쓰지 마라.

## 토픽:
(주의: 이 섹션의 서술/키 인사이트는 “힌트”일 뿐이며, 사실로 단정하지 마라. 실제 사실/수치/날짜는 아래 '조사 결과'의 Sources snippet로만 확정한다.)
{topic}

## 원문(피드에서 제공된 발췌/요약):
제목: {sourceTitle}
URL: {sourceUrl}
발췌:
{sourceExcerpt}

## 조사 결과:
{findings}

## 핵심 원칙:
0. **사실성**: 조사 결과에 없는 수치/날짜/모델 버전/정책/규정은 쓰지 마라. 확실치 않으면 "추가 확인 필요"로 남기거나 일반론으로만 서술해라.
   - 원문 발췌/요약에 없는 “원문 내용”을 만들어 쓰지 마라. (발췌에서 확인되는 내용만 ‘원문에 따르면’ 식으로 언급)
   - **숫자/퍼센트/가격/기간 같은 정량 표현은, 아래 Sources의 snippet에 같은 숫자가 실제로 들어 있을 때만** 사용해라. snippet에 없으면 숫자를 빼고 정성 표현으로 바꿔라.
   - **시점 정합성**: 최신 동향/전략 글에서 구형 모델(과거 세대)의 사례를 언급해야 한다면, 반드시 “과거 사례”로 명시하고 현재에도 그대로 적용된다고 단정하지 마라.
   - **모델명/버전 앵커링 금지**: 출처에 명시되지 않았다면 특정 모델명·버전(예: GPT‑4, Gemini 1.0 등)을 “대표确认/기준”처럼 꺼내지 마라. 필요하면 “경쟁 모델”, “동급 모델”처럼 일반화해라.
1. **후킹**: 첫 문장에서 독자를 사로잡아라. "~가 발표했다"로 시작하지 마라.
   - 도입부 첫 문장은 반드시 구체적인 상황/사건/수치로 시작할 것.
2. **구체성**: 조사 결과에 있는 숫자/날짜/이름을 활용해라. 근거가 없으면 숫자를 만들지 마라.
   - 반드시 검증 가능한 구체적 수치(벤치마크 점수, 날짜, 비율, 토큰 수 등)를 본문에 3개 이상 포함할 것.
   - 수치가 없는 주장만으로 현황/분석 섹션을 채우지 말 것.
3. **맥락**: 왜 이게 중요한지 설명해라. 업계 전체에 미치는 영향.
4. **비판적 시각**: 장점만 나열하지 마라. 한계, 우려, 반론도 다뤄라.
5. **실용성**: 독자가 뭘 해야 하는지 알려줘라.
6. **단정 금지**: "100%", "완벽", "절대", "반드시", "이론적으로 불가능" 같은 표현은 근거 없으면 쓰지 마라. 검증되지 않으면 "가능성", "추정", "추가 확인 필요"로 처리해라.
7. **밀도**: 의미 없는 문장은 삭제한다. 각 문단은 “새 정보/새 분석/새 행동” 중 최소 1개를 반드시 추가해야 한다.
8. **장면**: 도입부에 짧은 장면 1개를 넣어라.
   - 가상의 예시는 반드시 "예:"로 시작하는 별도 문단으로 작성해 사실처럼 보이지 않게 한다.
   - 예시에는 **숫자(0-9), 회사명/기관명/인물명 같은 고유명사**를 넣지 마라. (너무 구체적이면 사실처럼 보인다.)

## 문체:
- 짧은 문장과 중간 길이 문장을 섞어 리듬감 있게 (영문은 평균 20단어 이하)
- 수동태 금지. "발표되었다" → "구글이 발표했다"
- 금지 표현: "매우", "다양한", "탁월한", "혁신적인", "획기적인"
- 빈말/뭉뚱그림 표현 최소화: "많은", "여러", "대부분", "일반적으로", "상당히" 같은 표현은 가능하면 제거하고 더 정확하게 쓴다.
- 비유와 예시를 활용해 어려운 개념을 쉽게
- 전문 용어는 처음 등장할 때 간단히 설명

## 구조 (2000자 이상):

**도입부** (3-4문장)
- 훅: 왜 이게 지금 중요한가?
- 핵심 뉴스 1문장 요약
- 업계 맥락 1문장

## 세 줄 요약
- 핵심 포인트 1 (근거 없는 단정/수치 금지)
- 핵심 포인트 2
- 핵심 포인트 3

## 현황
(2-3문단, 각 3-4문장)
- 발표된 사실, 수치, 기능
- 경쟁사 비교가 있다면 포함
- 출시 시기, 가격, 접근 방법

## 분석
(2문단)
- 이게 왜 중요한가? 업계에 미치는 영향
- 우려점이나 한계는? 비판적 시각

## 실전 적용
(1-2문단)
- 개발자/사용자가 지금 할 수 있는 것
- 구체적인 활용 시나리오
- “오늘 바로 할 일” 체크리스트 3개를 포함한다. (각 항목은 한 문장)

## FAQ
(3개, Q&A 형식)
- 독자가 궁금해할 질문 3개
- 간결하지만 충분한 답변

## 결론
(1문단)
- 핵심 요약 1-2문장
- 앞으로 주목할 점

## 금지사항:
- 본문에 [링크](URL) 형식 금지
- 참고 자료 섹션은 시스템이 자동 추가한다. 참고 자료를 직접 작성해야 하는 경우 반드시 "- [글 제목 - 출처명](URL)" 형식을 사용하고, 도메인만 쓰지 말 것.
- 프론트매터 없이 본문만

마크다운 본문만 응답하세요.`;

const WRITE_PROMPT_COMMON_RULES = `
## 에디토리얼 시리즈:
{series}

## TL;DR(세 줄 요약) 규칙:
- 반드시 3개 불릿.
- 3개 불릿은 각각 다음 질문에 답해야 한다:
  1) **무슨 변화/핵심이슈인가?** (또는 “이 글이 다루는 핵심 개념/쟁점”)
  2) **왜 중요한가?** (영향/리스크/기회 중 하나라도 명확히)
  3) **독자는 뭘 하면 되나?** (검증/실험/의사결정 규칙처럼 행동으로 끝내라)
- 3번째 불릿을 “AI는 앞으로…” 같은 **일반론/미래담**으로 쓰지 마라.

## 토픽:
(주의: 이 섹션의 서술/키 인사이트는 “힌트”일 뿐이며, 사실로 단정하지 마라. 실제 사실/수치/날짜는 아래 '조사 결과'의 Sources snippet로만 확정한다.)
{topic}

## 원문(피드에서 제공된 발췌/요약):
제목: {sourceTitle}
URL: {sourceUrl}
발췌:
{sourceExcerpt}

## 조사 결과:
{findings}

## 핵심 원칙:
0. **사실성**: 조사 결과에 없는 수치/날짜/모델 버전/정책/규정은 쓰지 마라. 확실치 않으면 "추가 확인 필요"로 남기거나 일반론으로만 서술해라.
   - 원문 발췌/요약에 없는 “원문 내용”을 만들어 쓰지 마라. (발췌에서 확인되는 내용만 ‘원문에 따르면’ 식으로 언급)
   - **숫자/퍼센트/가격/기간 같은 정량 표현은, 아래 Sources의 snippet에 같은 숫자가 실제로 들어 있을 때만** 사용해라. snippet에 없으면 숫자를 빼고 정성 표현으로 바꿔라.
   - **시점 정합성**: 최신 동향/전략 글에서 구형 모델(과거 세대)의 사례를 언급해야 한다면, 반드시 “과거 사례”로 명시하고 현재에도 그대로 적용된다고 단정하지 마라.
   - **모델명/버전 앵커링 금지**: 출처에 명시되지 않았다면 특정 모델명·버전(예: GPT‑4, Gemini 1.0 등)을 “대표确认/기준”처럼 꺼내지 마라. 필요하면 “경쟁 모델”, “동급 모델”처럼 일반화해라.
1. **후킹**: 첫 문장에서 독자를 사로잡아라. "~가 발표했다"로 시작하지 마라.
   - 도입부 첫 문장은 반드시 구체적인 상황/사건/수치로 시작할 것.
2. **구체성**: 조사 결과에 있는 숫자/날짜/이름을 활용해라. 근거가 없으면 숫자를 만들지 마라.
   - 반드시 검증 가능한 구체적 수치(벤치마크 점수, 날짜, 비율, 토큰 수 등)를 본문에 3개 이상 포함할 것.
   - 수치가 없는 주장만으로 섹션을 채우지 말 것.
3. **맥락**: 왜 이게 중요한지 설명해라. 업계 전체에 미치는 영향.
4. **비판적 시각**: 장점만 나열하지 마라. 한계, 우려, 반론도 다뤄라.
5. **실용성**: 독자가 뭘 해야 하는지 알려줘라.
6. **단정 금지**: "100%", "완벽", "절대", "반드시", "이론적으로 불가능" 같은 표현은 근거 없으면 쓰지 마라. 검증되지 않으면 "가능성", "추정", "추가 확인 필요"로 처리해라.
7. **밀도**: 의미 없는 문장은 삭제한다. 각 문단은 “새 정보/새 분석/새 행동” 중 최소 1개를 반드시 추가해야 한다.
8. **장면**: 도입부에 짧은 장면 1개를 넣어라.
   - 가상의 예시는 반드시 "예:"로 시작하는 별도 문단으로 작성해 사실처럼 보이지 않게 한다.
   - 예시에는 **숫자(0-9), 회사명/기관명/인물명 같은 고유명사**를 넣지 마라. (너무 구체적이면 사실처럼 보인다.)

## 문체:
- 짧은 문장과 중간 길이 문장을 섞어 리듬감 있게 (영문은 평균 20단어 이하)
- 수동태 금지. "발표되었다" → "구글이 발표했다"
- 금지 표현: "매우", "다양한", "탁월한", "혁신적인", "획기적인"
- 빈말/뭉뚱그림 표현 최소화: "많은", "여러", "대부분", "일반적으로", "상당히" 같은 표현은 가능하면 제거하고 더 정확하게 쓴다.
- 비유와 예시를 활용해 어려운 개념을 쉽게
- 전문 용어는 처음 등장할 때 간단히 설명

## 금지사항:
- 본문에 [링크](URL) 형식 금지
- 참고 자료 섹션은 시스템이 자동 추가한다. 참고 자료를 직접 작성해야 하는 경우 반드시 "- [글 제목 - 출처명](URL)" 형식을 사용하고, 도메인만 쓰지 말 것.
- 프론트매터 없이 본문만
`;

export const WRITE_COMPARISON_PROMPT = `당신은 최고의 AI 기술 기자입니다. The Verge, TechCrunch 수준의 글을 씁니다.
${WRITE_PROMPT_COMMON_RULES}
## 비교 글 핵심 원칙:
- 편향 없이 양쪽 장단점을 균형 있게 다뤄라.
- 핵심 주장에는 숫자/벤치마크 근거를 반드시 붙여라.

## 구조 (2000자 이상):

**도입부** (3-4문장)
- 첫 문장은 반드시 "X vs Y — 무엇이 다른가?" 형태의 프레이밍으로 시작
- 왜 지금 이 비교가 중요한지 1문장
- 독자가 얻을 의사결정 가치 1문장

## 세 줄 요약
- 핵심 포인트 1
- 핵심 포인트 2
- 핵심 포인트 3

## 비교 대상 소개
- A 소개 (1문단)
- B 소개 (1문단)

## 핵심 비교
- 표 형식 권장: | 항목 | A | B |
- 성능, 비용, 운영 난이도, 리스크, 생태계 관점 포함
- 숫자/벤치마크가 있으면 반드시 명시

## 어떤 상황에서 무엇을 선택할까
- If/Then 구조로 조건별 선택 가이드 제시
- 최소 4개 조건 분기

## FAQ
(3개, Q&A 형식)

## 결론
(1문단)
- 누구에게 어떤 선택이 맞는지 한 문장으로 정리
- 추가 검증이 필요한 포인트 제시

마크다운 본문만 응답하세요.`;

export const WRITE_PRACTICAL_GUIDE_PROMPT = `당신은 최고의 AI 기술 기자입니다. The Verge, TechCrunch 수준의 글을 씁니다.
${WRITE_PROMPT_COMMON_RULES}
## 실무 가이드 핵심 원칙:
- "지금 바로 따라할 수 있는" 수준으로 구체적으로 써라.
- 추상적인 조언, 원론적 체크리스트는 금지한다.

## 구조 (2000자 이상):

**도입부** (3-4문장)
- 실무자가 실제로 부딪히는 구체적 문제 상황으로 시작
- 실패 비용/리스크를 1문장으로 제시
- 이 가이드를 따라 했을 때 얻는 결과를 1문장으로 제시

## 세 줄 요약
- 핵심 포인트 1
- 핵심 포인트 2
- 핵심 포인트 3

## 전제 조건
- 환경/도구/버전 명시
- 사전 준비물 및 권한 요구사항 정리

## 단계별 가이드
- 번호 매기기 필수
- 각 단계마다 목적/실행/검증 포인트를 짧게 제시
- 필요하면 코드 예시 포함
- 실패 시 롤백 또는 우회 방법 포함

## 흔한 실수와 해결책
- 자주 발생하는 실수 최소 3개
- 각 실수에 대한 재현 조건과 해결 절차 제시

## FAQ
(3개, Q&A 형식)

## 결론
(1문단)
- 즉시 실행 가능한 다음 행동 1-2개로 마무리

마크다운 본문만 응답하세요.`;

export const WRITE_PERSPECTIVE_PROMPT = `당신은 최고의 AI 기술 기자입니다. The Verge, TechCrunch 수준의 글을 씁니다.
${WRITE_PROMPT_COMMON_RULES}
## 관점 글 핵심 원칙:
- 한쪽 편을 들되 반대 의견도 공정하게 다뤄라.
- 논쟁적이어도 반드시 데이터/사례 근거를 제시해라.

## 구조 (2000자 이상):

**도입부** (3-4문장)
- 먼저 주류 통념/의견을 제시
- 이어서 반전되는 문제 제기로 전환
- 이 글의 주장 한 문장 요약

## 세 줄 요약
- 핵심 포인트 1
- 핵심 포인트 2
- 핵심 포인트 3

## 주류 시각
(1-2문단)
- 현재 널리 받아들여지는 주장과 논거 정리

## 다른 관점
(2-3문단)
- 반대 또는 대안 관점을 제시
- 데이터/사례/반례로 근거 제시

## 반론에 대한 재반론
- 예상 반론을 최소 2개 제시
- 각 반론에 대해 근거 기반으로 재반박

## FAQ
(3개, Q&A 형식)

## 결론
(1문단)
- 최종 입장을 분명히 제시
- 독자가 검증해야 할 체크포인트 제안

마크다운 본문만 응답하세요.`;

export const GENERATE_METADATA_PROMPT = `다음 본문에 맞는 메타데이터를 생성하세요.

## 본문:
{content}

## 규칙:
- 한글 제목: 25자 이내
- 영어 제목: 8-10 단어, Title Case
- 슬러그: 영어, 소문자, 하이픈
- 메타 설명: 한글 80자, 영어 120자 이내
- 태그: 관련 키워드 3-5개 (반드시 agi/llm/robotics/hardware 중 1개 포함)

## 응답 (JSON):
{
  "title_ko": "한글 제목",
  "title_en": "English Title",
  "slug": "english-slug",
  "description_ko": "한글 메타 설명",
  "description_en": "English meta description",
  "tags": ["tag1", "tag2", "tag3"]
}

JSON만 응답하세요.`;

export const GENERATE_IMAGE_PROMPT_PROMPT = `당신은 AI 이미지 생성 프롬프트 전문가입니다.
다음 블로그 글의 제목과 내용을 바탕으로, 커버 이미지 생성용 프롬프트를 작성하세요.

## 글 정보:
제목: {title}
요약: {excerpt}

## 프롬프트 작성 규칙:
1. **절대 텍스트 금지**: 프롬프트에 제목, 레이블, 텍스트 관련 단어 포함 금지
2. **시각적 메타포**: 글의 핵심 개념을 추상적 이미지로 표현
3. **분위기**: 미래적, 기술적, 전문적
4. **색상**: 블루/시안/다크 그라디언트 기본
5. **구도**: 16:9 비율, 중앙 포커스

## 좋은 예시:
- "AI 일자리 대체" → "human silhouettes dissolving into digital particles, office environment fading into circuit patterns"
- "커리어 피라미드 붕괴" → "crumbling geometric pyramid structure with fragmented platforms, figures climbing unstable steps"
- "LLM 추론 능력" → "neural pathways forming tree-like branching structures, glowing connections"

## 나쁜 예시 (금지):
- "AI job replacement text" (텍스트 언급)
- "cover image for blog post" (블로그/커버 언급)
- "title: AI Revolution" (제목/레이블)

## 응답 (JSON):
{
  "imagePrompt": "Cinematic digital art, [시각적 요소들], [색상 팔레트], dark gradient background, futuristic aesthetic, dramatic lighting, 16:9 composition, abstract conceptual visualization, ultra high quality"
}

JSON만 응답하세요.`;
