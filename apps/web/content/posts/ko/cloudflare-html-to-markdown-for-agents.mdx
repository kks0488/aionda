---
title: Cloudflare의 HTML→Markdown 전환
slug: cloudflare-html-to-markdown-for-agents
date: '2026-02-12'
lastReviewedAt: '2026-02-12'
locale: ko
description: Cloudflare가 HTML을 Markdown으로 자동 변환. RAG 입력 단순화와 인용·통제·인젝션 리스크를 점검한다.
tags:
  - llm
  - robotics
  - deep-dive
  - rag
author: AI온다
sourceId: cloudflare-3rwkgdh
sourceUrl: 'https://blog.cloudflare.com/markdown-for-agents/'
verificationScore: 0.7799999999999999
alternateLocale: /en/posts/cloudflare-html-to-markdown-for-agents
coverImage: /images/posts/cloudflare-html-to-markdown-for-agents.png
---

## 세 줄 요약

- **무슨 변화/핵심이슈인가?** Cloudflare 블로그 발췌 기준, “Markdown for Agents”는 Cloudflare 네트워크로 요청된 **HTML 페이지를 Markdown으로 자동 변환**하는 계층을 소개한다.  
- **왜 중요한가?** 에이전트/RAG가 “렌더링된 웹페이지”보다 “정규화된 텍스트 입력”에 기대면 수집·요약·인용 흐름이 단순해질 수 있지만, 변환 손실이 **인용 신뢰성**과 **퍼블리셔 통제**, **간접 프롬프트 인젝션** 대응에 영향을 줄 수 있다.  
- **독자는 뭘 하면 되나?** HTML 원문과 변환 Markdown을 **동일 조건으로 A/B 테스트**하고, correctness와 citation faithfulness를 분리해 측정하며, 표·코드·수식·각주 같은 요소별 **구조 보존율**을 지표로 삼아 도입 여부를 판단한다.

브라우저 탭을 **수십 개** 띄워 놓고 자료를 모으던 팀이, 이제는 “이 페이지들을 읽고 핵심만 뽑아줘”를 에이전트에게 던지는 상황이 늘었다. 문제는 웹이 여전히 사람 눈(레이아웃, 광고, 내비게이션, 무한 스크롤)에 맞춰져 있다는 점이다. 에이전트는 화면이 아니라 **정규화된 텍스트 입력**을 원한다. 이 간극을 줄이겠다는 제안이 나왔다. Cloudflare는 자사 네트워크에서 요청된 HTML 페이지를 **자동으로 Markdown으로 변환**하는 “Markdown for Agents”를 소개했다(원문 발췌 기준).

예: 한 편집자가 기사 페이지를 열었는데, 본문보다 내비게이션과 추천 박스가 더 먼저 눈에 들어온다. 같은 페이지를 에이전트에 넘기려 하자, 화면에 보이는 순서와 의미가 텍스트로는 잘 전달되지 않아 다시 정리하게 된다.

이 변화의 요지는 단순한 포맷 변환만은 아니다. “검색엔진에 맞춘 SEO”에서 더 나아가, 에이전트가 처리하기 쉬운 형태로 콘텐츠를 제공하는 **AEO(Agent Experience/Engine Optimization에 준하는 개념)**가 인프라 레벨에서 논의될 수 있다는 신호로 읽힌다. 다만 HTML→Markdown은 본질적으로 손실이 생길 수 있다. 그 손실은 인용, 출처, 맥락의 문제로 이어질 수 있다.

## 현황

HTML을 Markdown으로 바꾸는 흐름이 제안되면서, 웹 콘텐츠가 에이전트 파이프라인에 들어가는 “기본 입력 형태”가 달라질 수 있다. Cloudflare 블로그 발췌에 따르면 “Markdown for Agents”는 **사람을 위해 만들어진 웹(HTML)**과 **구조화된 입력을 필요로 하는 AI 에이전트** 사이의 격차를 전제로 한다. 또한 “에이전트를 1급 시민처럼 대하자”는 메시지와 함께, Cloudflare 네트워크로 들어온 요청에 대해 **HTML을 Markdown으로 자동 변환**한다고 설명한다. 여기까지가 원문 발췌로 확인되는 내용이다.

퍼블리셔/플랫폼이 실제로 부딪히는 문제는 변환 이후다. 변환은 파이프라인을 단순화할 수 있지만, “무엇이 보존됐는지”를 설명하지 못하면 운영 리스크가 된다. 특히 표·코드·수식·각주·캡션·링크 컨텍스트처럼 **레이아웃에 의미가 실려 있는 요소**는 Markdown이 HTML을 1:1로 담기 어렵다. 본문에서 인용된 조사/제안은 “변환이 손실적일 수 있다”는 전제를 깔고 벤치마크를 설계하라고 말한다(표준 단일 지표가 있는지는 추가 확인이 필요하다).

정책/통제 측면의 현실도 남는다. 퍼블리셔가 에이전트 접근을 통제하려면 여전히 **robots.txt**가 표준적인 출발점이다. 본문에서 언급된 OpenAI 문서는 GPTBot과 OAI-SearchBot 같은 크롤러를 robots.txt로 관리할 수 있다고 쓴다. 다만 robots.txt는 강제 차단이 아니라 “자율 준수”에 기대는 방식이다. 색인/서빙 정책은 `<meta name="robots">` 또는 HTTP의 **X-Robots-Tag**로도 제어할 수 있지만, 크롤링 자체를 막으면 이 태그를 읽지 못할 수 있다는 점은 운영상 함정이 된다.

## 분석

의사결정 관점에서 핵심 질문은 “에이전트가 웹을 소비하는 기본 단위가 무엇이 될 것인가”다.

- 에이전트가 브라우저 렌더링을 계속 중심에 두면, 퍼블리셔는 HTML과 구조화 데이터(예: schema 계열)를 강화하는 전략이 유효하다. 이 경우 변환 계층은 부가 기능에 가깝다.  
- 반대로 에이전트가 대규모로 “정규화 텍스트 입력”을 기본으로 삼으면, **HTML→Markdown(또는 유사한 텍스트 표준화)** 이 콘텐츠 유통의 기본 어댑터가 될 수 있다. 이 경우 관건은 (1) 변환 품질, (2) 출처/라이선스의 기계적 보존, (3) 간접 프롬프트 인젝션 같은 공격 완화다.

트레이드오프는 수치로 확인되는 지점이 있다. 첫째, 변환은 **정확성(correctness)**뿐 아니라 **인용의 faithfulness(출처가 실제로 답을 지지하는가)**에 영향을 줄 수 있다. 본문에서 인용된 관련 연구는 correctness와 faithfulness를 분리해 평가해야 한다고 말한다. 또한 attributed answers에서 **최대 57 percent**까지 citation faithfulness 문제가 관찰됐다고 보고한다(이 수치는 연구 맥락에 종속적이며, Markdown 변환의 효과로 일반화하면 안 된다).  
둘째, 보안이다. 웹 기반 에이전트는 페이지 안의 지시문에 오염될 수 있고, 이를 탐지·국소화하려는 시도(예: WebSentinel)도 언급돼 있다. Markdown 정규화가 인젝션을 줄이는지 늘리는지는, 이 본문에 포함된 근거만으로 단정하기 어렵다. 따라서 “정규화 계층을 넣으면 안전해진다”는 직감만으로 의사결정하는 것은 위험할 수 있다.

## 실전 적용

“Markdown for Agents” 같은 계층은 도입 검토 대상이 될 수 있다. 다만 **품질·신뢰·통제**를 숫자로 관리할 준비가 있을 때 이득과 손해를 비교할 수 있다. 특히 RAG/에이전트 팀은 “HTML 그대로 넣기”와 “Markdown 정규화 후 넣기”를 이분법으로 보지 말고, 문서 유형별로 실패 비용을 나눠야 한다. 예를 들어 표가 핵심인 문서와 코드가 핵심인 문서는 손실이 발생했을 때의 영향이 다르다.

평가 방법도 운영 목적에 맞게 바꿔야 한다. 본문에서 언급된 제안처럼, 렌더링 문자열을 단순 비교하기보다 **중간 표현(예: AST)로 정규화한 뒤 구조적 동등성**을 비교하는 벤치마크가 더 설명 가능할 수 있다. 수식은 텍스트와 다른 문법을 가지므로 전용 지표가 필요할 수 있으며, 본문에는 LaTeX 수식을 BLEU 계열로 평가하는 **TeXBLEU** 같은 접근이 예로 제시돼 있다.

**오늘 바로 할 일:**
- HTML 원문과 Markdown 변환본을 같은 질문 세트로 평가하고, **correctness**와 **citation faithfulness**를 분리해 기록한다.  
- 표·코드·수식·각주·캡션·링크 컨텍스트를 항목화해, 항목별 **구조 보존율(존재 여부·유형 유지)**을 점수로 만든다.  
- 간접 프롬프트 인젝션 테스트 샘플을 준비해, 변환 전/후 **탐지·국소화 성능**을 A/B로 비교한다.

## FAQ

**Q1. HTML을 Markdown으로 바꾸면 RAG 품질이 무조건 좋아지나?**  
A. 본문에 포함된 근거만으로는 “항상 좋아진다/나빠진다”를 일반론으로 말하기 어렵다. 정규화와 노이즈 감소로 도움이 될 수 있지만, 표·수식·링크 맥락 손실이 품질 저하로 이어질 수도 있다. 그래서 A/B 테스트가 먼저다.

**Q2. 퍼블리셔는 에이전트 접근을 어떻게 통제해야 하나?**  
A. 크롤링 허용/차단은 robots.txt가 표준적 출발점이지만, 강제력이 아니라 자율 준수에 기대는 방식이다. 색인/서빙 제어는 `<meta name="robots">` 또는 X-Robots-Tag로 시도할 수 있다. 과금은 메타 태그가 아니라 서버 인증·권한·페이월 같은 서버 레벨에서 설계해야 하며, **HTTP 402**를 통용 표준처럼 단정하기는 어렵다(본문의 취지 유지).

**Q3. “의미 보존”을 어떻게 객관적으로 점수화하나?**  
A. 문자열 비교 대신 AST 같은 중간 표현으로 정규화해 구조적 동등성을 비교하는 설계가 합리적일 수 있다(예: 트리 편집거리 계열). 그리고 표/각주/캡션/링크/코드/수식처럼 요소별로 지표를 나누고 가중 합을 쓰는 방식이 현실적이다. 수식은 TeXBLEU처럼 전용 지표를 붙이는 접근이 본문에 제안돼 있다.

## 결론

HTML→Markdown 자동 변환은 “보기 편한 요약”이라기보다, 에이전트 시대의 **콘텐츠 전달 계층**을 둘러싼 선택지로 볼 수 있다. 변환이 늘어날수록, “변환 품질(구조 보존)·인용의 faithfulness·안전(인젝션)”을 어떤 방식으로 계량화하고 합의할지가 관건이 된다. 표준이 정리되지 않은 영역에서는, 먼저 측정 가능한 규칙과 지표를 만드는 쪽이 운영 리스크를 줄이기 쉽다.

## 다음으로 읽기
- [에이전트 코딩·영상 생성의 반복비용 혁신](/ko/posts/agentic-coding-video-generation-shorter-iteration-loops)
- [에이전트 링크 클릭, 유출·인젝션 방어](/ko/posts/ai-agent-web-security-guide)
- [AI 자료 모음 (24h) - 2026-02-12](/ko/posts/ai-resources-roundup-2026-02-12)
- [안드로이드 17, 잠금을 OS 상태로 격상](/ko/posts/android-17-locking-os-security-state)
- [Claude Code가 바꾸는 CLI 개발 루프](/ko/posts/claude-code-agentic-loops-terminal)
---

## 참고 자료

- 🛡️ [Overview of OpenAI Crawlers](https://platform.openai.com/docs/bots)
- 🏛️ [TeXBLEU: Automatic Metric for Evaluate LaTeX Format](https://arxiv.org/abs/2409.06639)
- 🏛️ [Correctness is not Faithfulness in RAG Attributions](https://arxiv.org/abs/2412.18004)
- 🏛️ [WebSentinel: Detecting and Localizing Prompt Injection Attacks for Web Agents](https://arxiv.org/abs/2602.03792)
- 🏛️ [EmoRAG: Evaluating RAG Robustness to Symbolic Perturbations](https://arxiv.org/abs/2512.01335)
