# STATUS — 2026-02-03

## TL;DR
- “본진(aionda.blog) ↔ 네이버”는 **양방향 동기화가 아니라**, 기본은 **본진(GitHub MDX) → 네이버** 단방향(Deploy-first gate)입니다. 네이버에 수동으로 올린 글은 본진으로 자동 역수입되지 않습니다.
- 텍스트 생성 LLM을 `Gemini` 고정에서 **선택형**으로 바꿨습니다: `AI_TEXT_PROVIDER=gemini|openai|deepseek`.
  - `openai`는 **프록시(OPENAI-compatible)도 지원**: `OPENAI_BASE_URL`로 엔드포인트 지정 가능.
  - 단, 사실 검증(`content:verify`)은 **Google Search tool 기반 Gemini**로 유지됩니다(품질 게이트 목적).
- 수집 파이프라인을 “2개(DC+RSS)”에서 **3개(DC+GitHub+RSS)**로 확장했습니다. GitHub Trending HTML 대신 **GitHub Search API 기반**으로 안정화했습니다.

---

## 1) “네이버에는 있는데 본진에는 없다” 정리

### 결론
- 본진(`aionda.blog`)은 **GitHub `main`에 머지된 MDX**가 배포됩니다.
- 네이버는 별도 채널이고, 현재 구조는 **본진 → 네이버**입니다.
- 네이버에 수동 업로드한 글이 본진에 없으면, 그건 정상입니다(역방향 파이프라인이 없음).

### 운영 권장(SSOT)
- **SSOT는 본진(GitHub MDX)**으로 고정하고,
- 네이버/기타 채널은 “배포 완료(HTTP 200) 확인 후” 미러링하는 구조가 안정적입니다.

---

## 2) 현재 어떤 AI API를 쓰고 있나?

### 텍스트 생성(글 작성/번역/이미지 프롬프트)
- 기본: **Gemini** (`scripts/lib/gemini.ts`)
- 선택 가능: **OpenAI / DeepSeek(OpenAI-compatible)**
  - 스위치: `AI_TEXT_PROVIDER=gemini|openai|deepseek`
  - OpenAI 프록시: `OPENAI_BASE_URL=https://<proxy>/v1`

### 사실 검증(검색 기반)
- `content:verify`는 **Gemini + Google Search tool** 기반으로 유지됩니다.

### 이미지 생성
- 이미지 프롬프트: 텍스트 생성 Provider(Gemini/OpenAI/DeepSeek) 사용 가능
- 실제 이미지 생성: **SiliconFlow** (기존 유지)

---

## 3) “파이프라인 3개” (수집 3-lane)

자동 발행 크론 기준으로 수집을 3갈래로 운영합니다.

1) DCInside 크롤링: `pnpm crawl`
2) GitHub(오픈소스 트렌드) 수집: `pnpm crawl-github` (Search API)
3) RSS(공식/뉴스) 수집: `pnpm crawl-rss`

> auto-publish에서는 위 3개를 순서대로 실행한 뒤, 토픽 추출/리서치/글작성/검증/이미지/빌드를 진행합니다.

---

## 변경 파일(요약)
- 텍스트 Provider 추상화:
  - `scripts/lib/ai-text.ts`
  - `scripts/lib/openai.ts`
  - `scripts/lib/deepseek.ts`
  - `scripts/write-article.ts`, `scripts/extract-topics.ts`, `scripts/translate.ts`, `scripts/generate-image.ts`에서 적용
- GitHub 수집:
  - `scripts/crawl-github.ts`
  - `package.json`에 `crawl-github` 추가
  - `scripts/auto-publish.sh`에 GitHub lane 추가
- 문서:
  - `.env.example` / `docs/AUTOMATION.md` 업데이트

