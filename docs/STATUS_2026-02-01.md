# aionda 운영 상태 메모 (2026-02-01)

작성일: 2026-02-01 (KST)

## 요약(결론 먼저)

- GitHub Actions `CI / build` 실패 메일 폭탄의 직접 원인은 `apps/web`에 `eslint`가 없어서, GitHub의 클린 러너에서 `next lint`가 즉시 실패하던 것이었습니다. (`apps/web/package.json`에 `eslint` + `eslint-config-next` 추가로 해결)
- “본진(aionda.blog)에 글이 없다/안 뜬다”는 건 실제로는 **Vercel 프로덕션 배포가 빌드 중이거나, 최신 배포가 도메인에 반영되기 전** 타이밍 문제였습니다. 최신 배포가 `www.aionda.blog`에 붙은 뒤 3개 신규 글 모두 200 확인 완료.
- “최신인데 구형 모델(Gemini 1.5 등) 얘기가 너무 자주 뜬다”는 건 DCInside 소스에서 **구형 모델 딥다이브**가 새 글로 생성되는 경향이 있어, `extract-topics` 단계에 “레거시 모델 앵커링(제목 기준) 스킵” 로직을 추가했습니다.

## 관찰된 증상

- GitHub: `CI / build`가 10~30초 내 실패 → 메일/알림 반복 발생.
- aionda.blog: `/ko/posts`는 200인데, 특정 신규 slug가 404로 보이는 구간이 있었음(배포/도메인 반영 지연).
- 최근 글에 **Gemini 1.5 / GPT-4 계열**이 많이 등장해 “트렌드와 동떨어져 보임”.

## 원인 / 조치

### 1) CI 실패 원인 및 수정

- 원인: GitHub Actions에서 `pnpm --filter web lint` 실행 시 `next lint`가 `eslint` 미설치로 실패.
- 조치: `apps/web/package.json`에 다음 devDependencies 추가
  - `eslint`
  - `eslint-config-next`
- 검증: 로컬 `pnpm --filter web lint`, `pnpm -s build` 통과 + GitHub Actions 최신 런 PASS 확인.

### 2) 본진 배포(도메인) “글이 없다” 이슈

- 원인: Vercel 프로덕션 배포가 `Building → Ready`로 전환되기 전/직후에 접근하면 신규 slug가 404로 보일 수 있음.
- 조치: 배포 완료(`Ready`) 후 도메인 alias(`www.aionda.blog`, `aionda.blog`)가 최신 배포로 붙는 것을 확인.
- 검증: 아래 3개 신규 글 모두 `www.aionda.blog`에서 HTTP 200 확인.
  - `/ko/posts/model-context-protocol-mcp-ai-agents`
  - `/ko/posts/ai-agent-timeout-and-stability-strategy`
  - `/ko/posts/rag-architecture-math-learning-ai`

### 3) DCInside 기반 “레거시 모델 앵커링” 완화

- 문제: DCInside 글이 “Gemini 1.5” 같은 구형 세대 모델을 제목부터 박아두는 경우가 많고, 이게 그대로 ‘오늘의 글’로 발행되면 트렌드 체감이 떨어짐.
- 조치:
  - `scripts/extract-topics.ts`에 레거시 모델 패턴에 `Gemini 1.5/1`, `GPT-3.x`, `Claude 2/1` 등을 추가.
  - 커뮤니티(`raw`) 소스에서 **제목이 레거시 모델 버전에 앵커링**되어 있고, **현세대 모델 언급이 없고**, **지원종료/보안/정책/가격/API 같은 “지금의 트리거”도 없으면 스킵**하도록 필터 추가.
  - `scripts/prompts/topics.ts`에도 “구형 모델 회고는 기본적으로 worthDiscussing=false” 지침을 추가.

## Naver 연동 상태(Deploy-first gate)

- `projects/naver-blog`는 기본 SSOT를 `projects/aionda`로 사용하고, `AIONDA_SITE_URL/ko/posts/{slug}`가 200(배포 완료)인 글만 네이버에 올리도록 게이트가 구현돼 있음.
- 이번 신규 slug 3개에 대해 `is_post_deployed()`가 True로 확인됨 → 본진 배포 후 네이버 발행이 따라붙는 구조가 유지됨.

## DCInside 비중(최근치; KO 포스트 기준)

- 최근 7일(2026-01-25~2026-02-01 KST) `apps/web/content/posts/ko` 기준:
  - 총 112개 중 DCInside 48개 → 42.9%
- 최근 30일(2026-01-02~2026-02-01 KST) `apps/web/content/posts/ko` 기준:
  - 총 509개 중 DCInside 155개 → 30.5%

> 위 수치는 “발행 로그”가 아니라 “포스트 frontmatter date” 기준의 집계입니다.

## 다음 액션(운영 추천)

- (본진→네이버 동기화) `cd /home/kkaemo/projects/naver-blog && python main.py post 1`
- (DC 비중 낮추기) `extract-topics`의 `--source=raw`를 줄이고 `crawl-official / crawl-rss` 비중을 높이는 튜닝(자동 발행 설정값 기준) 권장.
- (트렌드 체감) “구형 모델 딥다이브”는 Deep Dive로 유지하되, 최신 섹션에는 현세대 릴리즈/정책/보안/엔터프라이즈 업데이트 비중을 높이는 것이 안전.

